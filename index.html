<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" />
<title>For Aashiritha â€” A Special Message</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg1:#fff5f7;
  --bg2:#ffe1e8;
  --bg3:#ffd4e1;
  --accent:#ff69a3;
  --accent-dark:#e05589;
  --highlight:#ffb3d1;
  --text:#a0334a;
  --glass-bg:rgba(255,245,250,0.98);
}

html, body {
  height: 100%;
  width: 100vw;
  overscroll-behavior: none;
}

body{
  font-family:"Poppins",sans-serif;
  min-height:100vh;
  min-width:100vw;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  background:
    radial-gradient(circle at 20% 30%, var(--bg1) 0%, transparent 50%),
    radial-gradient(circle at 80% 70%, var(--bg2) 0%, transparent 50%),
    linear-gradient(135deg, var(--bg2) 0%, var(--bg3) 100%);
  overflow-x:hidden;
  color:var(--text);
  position:relative;
  transition:background 0.9s cubic-bezier(.8,0,.2,1);
  padding:3vw;
}

.bg-element{
  position:absolute;
  border-radius:50%;
  background:linear-gradient(45deg,var(--highlight),var(--accent));
  opacity:.16;
  filter:blur(2.5px);
  animation:float 10s ease-in-out infinite alternate;
  pointer-events:none;
}
.bg-element:nth-child(1){width:110px;height:110px;top:6%;left:4%;animation-delay:0s;}
.bg-element:nth-child(2){width:85px;height:85px;top:55%;right:8%;animation-delay:-4s;}
.bg-element:nth-child(3){width:90px;height:90px;bottom:10%;left:18%;animation-delay:-7s;}
@keyframes float{0%,100%{transform:translateY(0);} 50%{transform:translateY(-32px) scale(1.11);}}

#confetti{
  position:fixed;top:0;left:0;width:100vw;height:100vh;
  pointer-events:none;z-index:1;
  touch-action:none;
}

.card{
  width:100%;
  max-width:425px;
  padding:clamp(18px,7vw,38px) clamp(12px,5vw,36px);
  border-radius:clamp(18px,6vw,32px);
  background:var(--glass-bg);
  box-shadow:0 12px 36px 0 rgba(255,105,163,0.20), 0 1.5px 2.5px 0 rgba(255,255,255,0.8), 0 0 0 2px rgba(255,180,210,0.22) inset;
  backdrop-filter:blur(13px);
  text-align:center;
  position:relative;
  z-index:2;
  animation:cardEntrance 1.2s cubic-bezier(.6,0,.1,1) both;
  border:1.5px solid rgba(255,180,210,0.4);
  transition:box-shadow .3s;
  margin:0 auto;
}

.card:active { box-shadow: 0 8px 24px 0 rgba(255,105,163,0.18); }

@keyframes cardEntrance{
  0%{transform:translateY(40px) scale(0.92) rotateX(12deg);opacity:0;}
  100%{transform:none;opacity:1;}
}

h1{
  font-size:clamp(21px,5vw,28px);
  font-weight:700;
  color:var(--accent);
  text-shadow:0 0 15px var(--highlight);
  margin-bottom:18px;
  letter-spacing:1px;
}

.message{
  font-size:17px;
  line-height:1.7;
  text-align:left;
  min-height:90px;
  max-height:45vh;
  overflow-y:auto;
  padding:16px;
  border-radius:15px;
  background:rgba(255,255,255,.60);
  margin-bottom:19px;
  box-shadow:0 1px 7px 0 rgba(255,180,210,0.10);
  transition:background .3s;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 110px;
}

.slide-letter {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  min-height: 90px;
  font-size: 2.1em;
  font-weight: 700;
  color: var(--accent);
  text-shadow: 0 0 18px var(--highlight), 0 2px 0 #fff;
  letter-spacing: 0.05em;
  opacity: 0;
  transform: scale(0.7) translateY(60px);
  animation: slideIn 0.65s cubic-bezier(.68,-0.55,.27,1.55) forwards;
  will-change: transform, opacity;
  background: linear-gradient(90deg, var(--accent-dark), var(--accent), var(--highlight));
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  border-radius: 1em;
  padding: 0 8px;
  margin-bottom: 6px;
}

@keyframes slideIn {
  0% { opacity: 0; transform: scale(0.7) translateY(60px);}
  80% { opacity: 1; transform: scale(1.15) translateY(-12px);}
  95% { opacity: 1; transform: scale(1.05) translateY(0);}
  100% { opacity: 1; transform: scale(1) translateY(0);}
}

.slide-letter.out {
  animation: slideOut 0.45s cubic-bezier(.68,-0.55,.27,1.55) forwards;
}

@keyframes slideOut {
  0% { opacity: 1; transform: scale(1) translateY(0);}
  60% { opacity: 0.6; transform: scale(0.85) translateY(26px);}
  100% { opacity: 0; transform: scale(0.6) translateY(80px);}
}

.slide-text {
  font-size: 1.1em;
  font-weight: 400;
  color: var(--text);
  padding-left: 8px;
  opacity: 0;
  animation: textIn 0.45s 0.35s cubic-bezier(.61,0,.38,1) forwards;
  display:inline-block;
  vertical-align: middle;
}
@keyframes textIn {
  0% { opacity:0; transform: translateY(18px);}
  100% { opacity:1; transform: none;}
}

.controls{
  display:flex;
  gap:13px;
  justify-content:center;
  margin-bottom:4px;
  flex-wrap: wrap;
}

.btn{
  padding:11px 20px;
  border:2.5px solid var(--accent);
  border-radius:18px;
  background:white;
  color:var(--accent);
  cursor:pointer;
  font-weight:700;
  font-size:1em;
  letter-spacing:.02em;
  box-shadow:0 2px 8px 0 rgba(255,180,210,0.14);
  transition:.24s cubic-bezier(.5,0,.2,1);
  outline:none;
  min-width:90px;
  margin-bottom:4px;
  touch-action: manipulation;
}
.btn:active, .btn:focus{
  background:var(--accent);
  color:white;
  transform:translateY(-2px) scale(1.04);
  box-shadow:0 6px 18px 0 rgba(255,105,163,0.21);
}

/* 3D Ending Typography with Zoom */
.ending3d{
  font-size:clamp(21px,7vw,33px);
  font-weight:800;
  color:#fff;
  padding:22px 10px;
  border-radius:22px;
  margin-top:21px;
  margin-bottom:8px;
  background:linear-gradient(135deg, var(--accent), var(--accent-dark));
  text-transform:uppercase;
  text-shadow:
    1px 1px 0px #c92f64,
    2px 2px 0px #b02a59,
    3px 3px 0px #902349,
    4px 4px 0px #701b38,
    5px 5px 22px rgba(0,0,0,0.28),
    0 0 26px var(--highlight);
  animation:pop3d 1.1s cubic-bezier(.6,0,.1,1), zoomPulse 3.5s cubic-bezier(.6,.2,.9,.8) infinite;
  user-select:none;
  letter-spacing: 2px;
}
@keyframes pop3d{
  0%{transform:scale(0.6) rotateX(90deg) rotateY(-90deg);opacity:0;}
  100%{transform:scale(1) rotateX(0) rotateY(0);opacity:1;}
}
@keyframes zoomPulse{
  0%,100%{transform:scale(1);}
  50%{transform:scale(1.11);}
}

/* iPhone X/11/12/13/14 safe area support */
@media (max-width: 600px) {
  html, body {
    min-height: 100vh;
    width: 100vw;
    padding: 0;
  }
  body {
    padding-bottom: constant(safe-area-inset-bottom, 0);
    padding-bottom: env(safe-area-inset-bottom, 0);
    padding-top: constant(safe-area-inset-top, 0);
    padding-top: env(safe-area-inset-top, 0);
    padding-left: constant(safe-area-inset-left, 0);
    padding-left: env(safe-area-inset-left, 0);
    padding-right: constant(safe-area-inset-right, 0);
    padding-right: env(safe-area-inset-right, 0);
  }
  .card { border-radius: 19px; box-shadow: 0 4px 22px 0 rgba(255,105,163,0.18);}
  h1 { font-size: 22px; }
  .ending3d { font-size: 19px; }
  .message { font-size:15.5px; }
}

::-webkit-scrollbar{width:7px;}
::-webkit-scrollbar-thumb{background:var(--highlight);border-radius:4px;}
</style>
</head>
<body>
<div class="bg-element"></div>
<div class="bg-element"></div>
<div class="bg-element"></div>

<canvas id="confetti"></canvas>

<div class="card" id="mainCard" tabindex="-1" aria-live="polite">
  <h1 id="title" aria-label="A Special Message for Aashiritha">ðŸ’Œ A Special Message for Aashiritha</h1>
  <div class="message" id="message"></div>
  <div class="controls">
    <button class="btn" id="nextBtn" aria-label="Show next message">Next ðŸ’•</button>
    <button class="btn" id="resetBtn" aria-label="Reset message">â†º Reset</button>
  </div>
</div>

<script>
const lines = [
  "A â€“ Always cheerful and kind âœ¨",
  "A â€“ Amazing at making friends smile ðŸŒ¸",
  "S â€“ Smart and creative too ðŸŽ¨",
  "H â€“ Honest and helpful ðŸ¤",
  "I â€“ Inspires everyone ðŸŒŸ",
  "R â€“ Really fun to be with ðŸŽ¶",
  "I â€“ Incredible at everything ðŸ’Ž",
  "T â€“ Thoughtful ðŸŒ·",
  "H â€“ Happy moments shine with you â˜€ï¸",
  "A â€“ Absolutely awesome, Aashiritha! ðŸ’–"
];
const endingText = "ðŸ’– Ninnu chala ishtapadutunnanu! Naa hrudayam lo nuvvu super special. Will you be mine? âœ¨";

const msgBox = document.getElementById("message");
const nextBtn = document.getElementById("nextBtn");
const resetBtn = document.getElementById("resetBtn");

let currentLine=0, isSliding=false;

function showSlide(index) {
  isSliding = true;
  nextBtn.disabled = true;
  msgBox.innerHTML = "";
  if(index >= lines.length) {
    showEnding();
    nextBtn.style.display="none";
    resetBtn.focus();
    return;
  }
  // Split acronym and rest
  const line = lines[index];
  const letter = line.charAt(0);
  const rest = line.slice(1);
  // Slide in
  const slideDiv = document.createElement("div");
  slideDiv.className = "slide-letter";
  slideDiv.textContent = letter;
  msgBox.appendChild(slideDiv);

  // After the slide in, animate the rest of the text
  setTimeout(() => {
    const textSpan = document.createElement("span");
    textSpan.className = "slide-text";
    textSpan.textContent = rest;
    slideDiv.appendChild(textSpan);
  }, 330);

  // Wait for animation, then allow next
  setTimeout(() => {
    isSliding = false;
    nextBtn.disabled = false;
  }, 800);
}

function hideSlide(cb) {
  const slideDiv = msgBox.querySelector('.slide-letter');
  if(!slideDiv) { if(cb) cb(); return; }
  slideDiv.classList.add('out');
  setTimeout(() => {
    msgBox.innerHTML = "";
    if(cb) cb();
  }, 420);
}

function showEnding(){
  msgBox.innerHTML="";
  const e=document.createElement("div");
  e.className="ending3d";
  e.setAttribute("tabindex", "0");
  e.textContent=endingText;
  msgBox.appendChild(e);
  e.focus();
  launchConfetti();
}

nextBtn.addEventListener("click",()=>{
  if(isSliding) return;
  hideSlide(() => {
    currentLine++;
    showSlide(currentLine);
  });
});

resetBtn.addEventListener("click",()=>{
  msgBox.innerHTML="";
  currentLine=0;
  nextBtn.style.display="inline-block";
  nextBtn.disabled=false;
  isSliding=false;
  showSlide(currentLine);
  msgBox.focus();
});

// Keyboard navigation
document.addEventListener("keydown",e=>{
  if(isSliding) return;
  if((e.key==="Enter"||e.key===" "||e.key==="ArrowRight") && document.activeElement !== resetBtn){
    nextBtn.click();
  }
  if(e.key==="r"||e.key==="R"){
    resetBtn.click();
  }
});

// ðŸŽ‰ Confetti
const confetti=document.getElementById("confetti");
const ctx=confetti.getContext("2d");
let pieces=[], confettiActive=false;

function resize(){
  confetti.width = window.innerWidth;
  confetti.height = window.innerHeight;
}
window.addEventListener("resize",resize);
resize();

function randomColor(){
  const h=Math.random()*360;
  return `hsl(${h},98%,${74+Math.random()*10}%)`;
}

function launchConfetti(){
  pieces=[];
  for(let i=0;i<190;i++){
    pieces.push({
      x:Math.random()*confetti.width,
      y:-Math.random()*confetti.height*0.25,
      w:7+Math.random()*4,
      h:10+Math.random()*9,
      c:randomColor(),
      vy:2.7+Math.random()*2.8,
      vx:-2+Math.random()*4,
      angle:Math.random()*Math.PI,
      spin:0.054+Math.random()*0.07,
      opacity:0.76+Math.random()*0.15
    });
  }
  if(!confettiActive){
    confettiActive=true;
    requestAnimationFrame(draw);
  }
}

function draw(){
  ctx.clearRect(0,0,confetti.width,confetti.height);
  let active=false;
  for(const p of pieces){
    p.x+=p.vx;p.y+=p.vy;
    p.angle+=p.spin;
    ctx.save();
    ctx.globalAlpha=p.opacity;
    ctx.translate(p.x,p.y);
    ctx.rotate(p.angle);
    ctx.fillStyle=p.c;
    ctx.fillRect(-p.w/2,-p.h/2,p.w,p.h);
    ctx.restore();
    if(p.y<confetti.height+40) active=true;
  }
  pieces=pieces.filter(p=>p.y<confetti.height+40);
  if(active){
    requestAnimationFrame(draw);
  }else{
    confettiActive=false;
  }
}

window.onload = () => {
  document.getElementById("mainCard").focus();
  // Start at the first slide
  currentLine = 0;
  showSlide(currentLine);
};
</script>
</body>
</html>
